<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Spele</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: flex;
        }

        .left-side, .right-side {
            width: 50%;
            padding: 20px;
        }

        h2 {
            text-align: center;
            color: #333;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ddd;
        }

        th {
            background-color: #4CAF50;
            color: white;
        }

        input[type="submit"],
        .btn {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }

        input[type="submit"]:hover,
        .btn:hover {
            background-color: #45a049;
        }

        .nav-bar {
            background-color: #4CAF50;
            overflow: hidden;
        }

        .nav-bar a {
            float: left;
            display: block;
            color: white;
            text-align: center;
            padding: 14px 20px;
            text-decoration: none;
        }

        .nav-bar a:hover {
            background-color: #45a049;
        }

        .tree-image {
            text-align: center;
            margin-top: 20px;
        }

        .tree-image p {
            font-family: monospace;
            white-space: pre;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <div class="nav-bar">
        <a href="/game">Spele</a>
        <a href="/upgrades">Uzlabojumi</a>
        <a href="/profile">Profils</a>
		<a href="/logout" class="right">Iziet</a>
    </div>

    <div class="container">
        <div class="left-side">
            <h2>Kafijas koks</h2>
            <div class="tree-image" id="treeLevel1">
				<p>
				          0000000000          
				       00 0000000000000        
				     00 000000000 000000000    
				   00 00 0000 0000000 00000    
				   0 0000000 00000000000000   
				  0000000000000000000 000000   
				 000 00000  00000000000000 000 
				  0000000 0000 00  0000 000000 
				 000  0000 00 00000 00  000000 
				  00000000000 000000000 000    
				  000   0000000 000 000000000  
				    0000  00   000  0000 000   
				    000000 000000 00000000     
				       000000000000000000      
				         000000000000          
				              00              
				              00              
				         00         
				              00              
				  0000000  
				  </p>
            </div>
            <div class="tree-image" id="treeLevel2" style="display: none;">
				<p>                                                  
				                  00000  00000000                 
				                 00000  00000  00000              
				           00000      00 0000 00  00              
				           000000 00 0000     00000  00000        
				       0000      000  000  0   000   00000        
				      0000  000  000   00  0000  0000     00      
				       00       00 0    0000000 0 000 00 000      
				    000 000000 0  000     0 0    00   0           
				        00000  0 000 000   000000  0000000000     
				   000              0000    00000   00000   000   
				    00000  000     000000000    0000       00 00  
				     0000000000   0      0     00000   00000000   
				  000 000   0    000    00000  000     0 000      
				  000    0000000  000  0000000  00000  0 0000000  
				    000000000000 0000 0000000  000  0   000       
				    0000 0000             0  0         00  00     
				    0 00      00 0000000  000    000  00 00 00    
				        0000   00 0     000000  00000    0000     
				       0 000       0000  000       0   00         
				        00   000  00000  00  0000  000 000        
				            000    000  000      000000           
				               00000  000000000000                
				               000 0  00000  00000                
				                       000    0                   
				                        00                        
				                        00                        
				                        00                        
				                     000                    
				                   000                  
				                      0000000                      
				</p>
            </div>
            <div class="tree-image" id="treeLevel3" style="display: none;">
				<p>
				                                                                                         
				                                 00000000    00000  000000                               
				                               0000000000   000000000000000                              
				                              00000000000  0000000000000000000000                        
				                             00000000000   000000000   0000000 00                        
				                   000000000   0000000   0  0000000   0000000 0000                       
				                  000000000000        0000000000000  0000 00000000000000                 
				                   00000000000 000000 0000000  0     000 000000000000000000              
				             000000  0000000000000000 0000000        0000000000  00000000000             
				           000000000  0000    0000000 0000000 00000   0000000     0000000000             
				          000000000000000000   00       000000000000000    0000000  0000000              
				          000000000 0000000  0000000     00000  00000000  000000000 000   000000         
				          0000000          0000000000    000000000  00000000000000 0000000000000         
				        0000000  0000000   00000 0000     0000000000000 000000000  00000 000000          
				      0000000  0000000000 0000 000000      0000000000    0000000   00000                 
				      0000000 00000000000 000 00000000        0  0000000   00  0000000   00000000        
				             00000000000  0000000000  00000  0  00000000000   0000000000000000000        
				      00000    0000000     000 0000 000000000   000000000000  000000000000 00  0000      
				     0000000000       00000  00 0  0000 0000     0000000000     000000000    0000 00     
				     000000000000   00000000      0000000000 00000  000000000000  000000     00000000    
				      0000000 000 0000000000      00000000 00000000     000000000     00000  00000000    
				         000000000000000000    000   00     000000     000 00000     0000000000000000    
				    0000000000000 00000000   0000000  0      00       000000000     00000 0000000000     
				   00000000000000   000    0 0000000    0  0000000000  0000000      0000000000           
				   0000000        00000000000     000    0000000000000    00        0000 000000  00      
				    000000      0000000000000000000000  00000 000 0000  0000000000  0000 0000000000000   
				     00000000  0000  0   0000  0000000 000 0000000000  00000000000   00000000000000000   
				       0000 0000000000000000  00 0000   0 000000000   00000000 000    0000000            
				      000000000000000000000    0000 00   00000000   000  00000000   000 0   00000        
				      000000000 0000000  00000000   000000     00  00             00 0000 00000000       
				       00000000         0000 00000000000000    000000   000000000 0000000000000000       
				        000000 000000    0000000000 0000000  000000000  00000000000  0  0000000000       
				             000000000    000000000       00000000000   00000000000 0    0000000         
				            0000  00000       000          000000000      0000000000      0000           
				            000000000    000     00000000   0000000   00000   00 00  00000               
				            00000000   00000  00000000  00   000    00000000   000   000000              
				               00    00000000  0000000000   00000   000000   00000000 00000              
				                     0000000   000000000  000000000  000   00000000000                   
				                     000000 0000 000000 0000000 000    000000  0000000                   
				                       0  0000000000  000000000000000000000000    0                      
				                          0000 000000  0000000000000000   0000                           
				                           00000 0000  0000000000  0000000000                            
				                             0000000   000000000    0000000                              
				                                         000000                                          
				                                         000000                                          
				                                          00000                                          
				                                          00000                                          
				                                          00000                                          
				                                          00000                                          
				                                    00000                              
				                                     00000                                
				                                       000000                                
				                                    000000                    
				                                   0000000000000000000                         
				                         
				</p>
            </div>
            <div class="tree-image" id="treeLevel4" style="display: none;">
				<p>				                                                                                                                    		                                                                                                                        
		                                            00000000000      000 00   000000000                                         
		                                          000000000000      0000 000 0000000000                                         
		                                         000         000   00000 0000 000000000000000                                   
		                                        000 00000000000    0000 00000       000000000 0                                 
		                             0000       0000000000000      000  00000     000000000  000                                
		                          00000000000     00000000         000  00000    00000000   0000                                
		                         0000  000000000             00000  000 00000   00000    000000   000                           
		                          00000  0000000            0000 00  000000     0000  000000000 0000 0                   
		                           000000   0  0  0000000  0000 0000            000  000000000 0000 0                 
		                   000000    00000000000000   0000 000 00000            000 00000000    000000                  
		                00000000 00      0000    00000000   000 0000             00 0000000      000000                  
		               0000000  000  0000000      0          000000 0000000000       000           0000                  
		              0000  000000  000000000     00             0000000000000000       0000000       0                    
		             0000 0000000   00000000    0000  0         00000    0000000000   00000000 00    000                  
		              00 0000000      000     0000000 00        00  00000   000000   00000    000  000000            
		               0 00000               0000000 0000         00000000000   000 000  0000000   00000000          
		            000         00000000    000000   0000       000000000000000000  000 0000000   0000000 000              
		        000000000    000000000000   0000   000000        000000000000000     000000000     00000     000                  
		        0 0000  00 00000000000  00 0000   00000000             0               0000         000      000000             
		         0000000   000  000000000  0000  0000000  00              0000000000         0000000000    000 00000            
		                   00 0000000000    000  0000000   0000000   0   000  00000000      000  000000000 000000000            
		         0000      00000000000      0000  00000  00000000 0      00000  00000000    000000 00000000 000000              
		        000000       00000            000 0000  00000000000       000000  00000      000000  00000        000 00        
		       000 000 000 00         000000           000    00000         00000000000        00000000000       0000 000       
		       00000000000 000     00000000 00        000 000000000   0000     00000000000000      000000       00000 0000      
		        0000000000 0000   0000000  000         0000000000 0000  0000        00000000000                 0000 00000      
		             0000 00000  000   000000           0000000    000000000       000000   00        000  000  000  00000      
		             000 000000  00 00000000      0000              000000        000  0000000       00000  000 000  00000      
		      000 0  000 000000  00 0000000    000 00000             00          000  0000000       000000  0000 0000 000       
		     0000 00 0000 00000   0000000      000000000             00000000     00 0000000        0 0000  00000  000          
		     0000 000  000000        000000     0000000        0  0000000000000    0 00000          0 000  000000               
		     000 0000            00000000000000       0000      00000000000000          0           0 00  0000000               
		     000 0000         000000000000000   0  000000 0   000000   000    00    000000000000    0000  00000000 00000000     
		      000 0000       0000000 00000   00   00000  00  0000   00000000000    00000000000000    0000  000000 00000         
		           0000 00  0000   0000 000000   0000000000  000  000000000000     0000   00000 0     0000  00000  0000000      
		          00000 000 000  000000000000    00 000000    000000000000000    000000000    000      000000 00                
		         00000  000 00 0000000000000      0 000000      0000000000      00   00000000000                                
		         0000  0000    0000000000   0             00            00    000                 00000000    00000000          
		         000  00000     000        000000000    000000000       00  000                  0000000 0  0000000  00         
		          000 00000              0000  00   000 000000000      00000000     0000000000    00000000 0000    000          
		           000 0000    0000       00000  0000000 00000000    00000000  0   000   00000000    0    000  0000000          
		             000    0000000 0     000000      0         00  00000000 000   000000 00000000        000 0000000           
		                  00000000000       00000000000          00000000000000     000000  0000    0     000000000             
		                 0000    00000           000              0000 0000000        00000000000  0         0000               
		                 000 0000000    00             000000000   0000000000       0    0000000 00    0000                     
		                000 0000000         000     00000000000     0000000     0000000         0    000 000                    
		                 000000000     0000000   000000       00     0000     000     00     0000     000 00                    
		                    000       00000 00    0000000000000     00000     000000000    000000000   00 00                    
		                             000  0000     0 000000000    00000000 0   000000     000000 00000   0                      
		                            00 000000        0000000    000000000 00           0000000000  000                          
		                            00 00000          0   00   00000000  0000       00000     00000000                          
		                               00     000000000    00000000000000000   00000000000       0                              
		                                   0000  00000000   00000 00000000000000000000000000                                    
		                                   000000 00000000  0000  00000000000000   00000000                                     
		                                    000000      0   0000 000000000   00 000000000                                       
		                                      00000000000    00000000000      0 00000000                                        
		                                           000         00000000        00000                                            
		                                                        000000                                                          
		                                                        000000                                                          
		                                                         00000                                                          
		                                                         00000                                                          
		                                                         000000                                                         
		                                                         000000                                                         
		                                                         000000                                                         
		                                                         000000                                                         
		                                                         000000                                                  
		                                                         000000                                              
		                                                         000000                                              
		                                                         0000000                                               
		                                                         0000000                                                        
		                                                         0000000                                                        
		                                                         0000000                                                        
		                             000000000000000000000000
		                                                  00000000000000000000                                                        
		                              0  0  0  0  0  0
		                                                                         
				</p>
            </div>
            <button class="btn" onclick="incrementBeans()">Pupiņa</button>
            <p id="beanCounter">+1 Pupiņa</p>
        </div>
        <div class="right-side">
            <h2>Pupiņas</h2>
            <table>
                <tr>
                    <th>Pupiņu kopējais skaits</th>
                    <th>Pupiņu skaits par klikšķi</th>
                    <th>Autonomās pupiņas</th>
                </tr>
                <tr>
                    <td id="totalBeans">0</td>
                    <td id="beansPerClick">1</td>
                    <td id="autoBeans">0</td>
                </tr>
            </table>

            <h2>Koks</h2>
            <table>
                <tr>
                    <th>Koka augstums</th>
                    <th>Koka līmenis</th>
                    <th>Uzlabojumu nosaukums</th>
                    <th>Skaits</th>
                </tr>
                <tr>
                    <td id="treeHeight">0</td>
                    <td id="treeLevel">1</td>
                    <td id="upgradeName">Nav</td>
                    <td id="upgradeCount">0</td>
                </tr>
            </table>
        </div>
    </div>

	<script>
	    let totalBeans = 0;
	    let beansPerClick = 1;
	    let autoBeans = 0;
	    let beansPerMinute = 1; 
	    let logoutTime = null;
	
	    document.addEventListener('DOMContentLoaded', () => {
	        loadPlayerData();
	    });
	
	    function incrementBeans() {
	        totalBeans += beansPerClick;
	        document.getElementById('totalBeans').innerText = totalBeans;
	        document.getElementById('beanCounter').innerText = `+${beansPerClick} Pupiņa`;
	
	        updateTreeLevel();
	    }
	
	    function updateTreeLevel() {
	        if (totalBeans >= 1000 && treeLevel < 2) {
	            treeLevel = 2;
	            document.getElementById('treeLevel1').style.display = 'none';
	            document.getElementById('treeLevel2').style.display = 'block';
	        } else if (totalBeans >= 5000 && treeLevel < 3) {
	            treeLevel = 3;
	            document.getElementById('treeLevel2').style.display = 'none';
	            document.getElementById('treeLevel3').style.display = 'block';
	        } else if (totalBeans >= 10000 && treeLevel < 4) {
	            treeLevel = 4;
	            document.getElementById('treeLevel3').style.display = 'none';
	            document.getElementById('treeLevel4').style.display = 'block';
	        }
	        document.getElementById('treeLevel').innerText = treeLevel;
	    }
	
	    function logout() {
	        logoutTime = new Date().getTime();
	        localStorage.setItem('logoutTime', logoutTime);
	        alert('Logged out!');
	    }
	
	    function loadPlayerData() {

	        const storedLogoutTime = localStorage.getItem('logoutTime');
	        if (storedLogoutTime) {
	            const currentTime = new Date().getTime();
	            const elapsedMinutes = (currentTime - storedLogoutTime) / 60000;
	            autoBeans += Math.min(elapsedMinutes * beansPerMinute, 1000000); 
	            totalBeans += autoBeans;
	            document.getElementById('autoBeans').innerText = autoBeans;
	            document.getElementById('totalBeans').innerText = totalBeans;
	
	            
	            localStorage.removeItem('logoutTime');
	        }
	    }
	</script>
</body>

</html>
